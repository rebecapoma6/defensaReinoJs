<!DOCTYPE html>
<html lang='en'>

<head>
    <meta charset='UTF-8'>
    <meta name='viewport' content='width=device-width, initial-scale=1.0'>
    <link rel='stylesheet' type='text/css' href='style.css'>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Cherry+Cream+Soda&family=Eagle+Lake&family=Josefin+Sans:ital,wght@0,100..700;1,100..700&family=Lexend+Giga:wght@100..900&family=Poppins:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&family=Roboto:wght@100;300;400;500;700;900&family=Rubik+Mono+One&family=Varela+Round&display=swap"
        rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.9.3/dist/confetti.browser.min.js"></script>
    <script type="module" src="./main.js" defer></script>
    <title>DefensaReinoJs</title>
</head>

<body>
    <header class="juego-header">
        <h1 id="title">Aventura en el reino</h1>
    </header>


    <div id="monedero-contenedor" class="monedero-fijo">
        <img src="image/monedero.png" alt="" id="img-monedero">
        <span id="cantidad-dinero">500</span>
    </div>

    <div id="textOculto" class="ocultoText">
        <p>top secret
            Hola !!
        </p>

    </div>

    <div id="estrella">
        <div class="estrellada"></div>
        <div class="estrellada"></div>
        <div class="estrellada"></div>
        <div class="estrellada"></div>
        <div class="estrellada"></div>
    </div>


    <main class="juego-main">

        <!-- Escena 1: Formulario -->
        <div id="scene-1" class="scene active">

            <form id="formulario-jugador">
                <div class="form-campos">
                    <label for="player-name-input">Introduce tu nombre: </label>
                    <input type="text" id="player-name-input" placeholder="Tu nombre..." required />  

                <small></small> 

                </div>                

                <div class="form-campos">
                    <label>Ataque: </label>
                    <input type="number" id="input-atk" value="0">
                </div>
                <div class="form-campos">
                    <label>Defensa: </label>
                    <input type="number" id="input-def" value="0">
                </div>
                <div class="form-campos">
                    <label>Vida: </label>
                    <input type="number" id="input-hp" value="" placeholder="100">

                <small></small>

                </div>

                

            </form>

            <div id="avatar-container">
                <h2>Selecciona un avatar :</h2> 
                <div id="avatar-selection">
                  
                    <img src="image/hombre.jpg" alt="Avatar Hombre" class="avatar selectable"
                        data-avatar="image/hombre.jpg">
                    <img src="image/mujer.jpg" alt="Avatar Mujer" class="avatar selectable"
                        data-avatar="image/mujer.jpg">
                </div>
            </div>

            <button id="btn-create-player" class="btn-main">Crear jugador</button>

        </div>


        <!-- Escena 2: Tarjeta(estado inicial q viene del formulario) del jugador -->
        <div id="scene-2" class="scene">
            
            <div class="tarjetaScene">
                <div class="statScene">
                    <img id="imgJugadorScene-2" src="" alt="" class="avataR">
                    <h2 id="nameJugadorScene-2"></h2>
                </div>

                <div class="scene-container">
                    <div class="stat-box">Ataque: <span id="atak-2">0</span></div>
                    <div class="stat-box">Defensa: <span id="def-2">0</span></div>
                    <div class="stat-box">Vida: <span id="hp-2">100</span></div>
                    <div class="stat-box">Puntos: <span id="pts-2">0</span></div>
                </div>
            </div>

            <button id="btn-to-market" class="btn-main">Continuar Mercado</button>

        </div>

        <!-- Escena 3: Mercado -->
        <div id="scene-3" class="scene">
            <h2 class="scene-title">Mercado de productos</h2>
            <div id="market-container"></div>

            <div class="market-controls">
                <h3 id="basket-total">Total Cesta: 0€</h3><br>
                <button id="btn-to-battle" class="btn-main">Confirmar compra y continuar</button>
            </div>
        </div>

        <!-- Escena 4: Estado del jugador(actualizado despues de comprar en el mercado) -->
        <div id="scene-4" class="scene">
            <div class="tarjetaScene">
                <div class="statScene">
                    <img id="imgJugadorScene-4" src="" alt="" class="avataR">
                    <h2 id="nameJugadorScene-4"></h2>
                </div>

                <div class="scene-container">
                    <div class="stat-box">Ataque: <span id="atak-4">0</span></div>
                    <div class="stat-box">Defensa: <span id="def-4">0</span></div>
                    <div class="stat-box">Vida: <span id="hp-4">100</span></div>
                    <div class="stat-box">Puntos: <span id="pts-4">0</span></div>
                </div>
            </div>
            <button id="btn-to-enemies" class="btn-main">Ver enemigos</button>
        </div>

        <!-- Escena 5: Enemigos -->
        <div id="scene-5" class="scene">
            <h2 class="scene-title">Enemigos del reino</h2>

            <div id="enemies-container"></div>

            <button id="btn-to-combat" class="btn-main">Iniciar batallas ⚔️</button>
        </div>

        <!-- Escena 6: Batallas -->
        <div id="scene-6" class="scene">
            <h2 class="scene-title">Batallas</h2>
            <div id="battle-visual">
                <div class="battle-player">
                    <img id="battle-player-img" class="player-img" src="" alt="Jugador">
                    <p id="battle-player-name"></p>
                </div>

                <div class="battle-vs">VS</div>

                <div class="battle-enemy">
                    <img id="battle-enemy-img" class="enemy-img" src="" alt="Enemigo">
                    <p id="battle-enemy-name"></p>
                </div>
            </div>

            <div id="battle-output" class="combat-log"></div>
            <button id="btn-next-battle" class="btn-main">Siguiente batalla</button>
        </div>

        <!-- Escena 7: Resultado final -->
        <div id="scene-7" class="scene">
            <h2 class="scene-title">Resultado final</h2>
            <div id="result-message" class="moverMensaje"></div>
            <button id="btn-show-ranking" class="btn-main">Ver clasificación</button>

        </div>

        <!-- Escena 8: Resultado Ranking -->
        <div id="scene-8" class="scene">
            <h2 class="scene-title"> Ranking </h2>
            <div class="table-container">
                <table class="table">
                    <thead>
                        <tr>
                            <th>Nombre</th>
                            <th>Puntos</th>
                            <th>Dinero</th>
                        </tr>
                    </thead>
                    <tbody id="ranking-body"></tbody>
                </table>
            </div>
            <br>
            <div class="button">
                <button id="btn-restart" class="btn-main">Reiniciar</button>
                <button id="btn-verRanking" class="btn-main">Ver por consola</button>
            </div>
        </div>

    </main>

    <footer>
        <div id="inventory-container">
            <div class="foo-product"></div>
            <div class="foo-product"></div>
            <div class="foo-product"></div>
            <div class="foo-product"></div>
            <div class="foo-product"></div>
            <div class="foo-product"></div>
        </div>
    </footer>
</body>

</html>